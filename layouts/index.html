{{ define "main" }}
<div class="h-feed">
  {{ $paginator := .Paginate (where .Site.RegularPages "Type" "post") }}
  {{ range $paginator.Pages }}
  <article class="h-entry post">
    {{ if .Title }}
    <h2 class="p-name post-title">
      <a href="{{ .Permalink }}" class="u-url">{{ .Title }}</a>
    </h2>
    {{ end }}
    <time class="dt-published post-meta" datetime="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}">
      {{ .Date.Format "2006年1月2日" }}
    </time>
    <div class="e-content post-content">
      {{ if .Truncated }}
        {{ .Summary }}
        <p><a href="{{ .Permalink }}">続きを読む →</a></p>
      {{ else }}
        {{ .Content }}
      {{ end }}
    </div>
  </article>
  {{ end }}

  {{ if gt $paginator.TotalPages 1 }}
  <nav class="pagination">
    {{ if $paginator.HasPrev }}
    <a href="{{ $paginator.Prev.URL }}">← 前のページ</a>
    {{ end }}
    {{ if $paginator.HasNext }}
    <a href="{{ $paginator.Next.URL }}">次のページ →</a>
    {{ end }}
  </nav>
  {{ end }}
</div>
{{ end }}
